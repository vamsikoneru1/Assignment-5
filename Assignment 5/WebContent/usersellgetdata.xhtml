<!DOCTYPE html>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous"/>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
 
 
    <h:head>
        <title>User Account</title>
    </h:head>
    <h:body >

	   
	   <h:form id="loginForm" align="right" prependId="false">
	   
	   <h:outputText value=""></h:outputText>
	   
	   			<h:commandButton id="back"  value="Back"    action= "sucess"  align="center" style="float:right;" class="btn btn-success" ></h:commandButton>
	   
		
				<h:commandButton id="logout"  value="logout"    action= "#{login.logout}"  align="center" style="float:right;" class="btn btn-success" ></h:commandButton>
				<br/><br/>
		</h:form>
		<h1 align="left">  </h1> 
		<br>
		</br>
	
				
				
				
				 Welcome #{login.firstname} , 
				 	
				 	<h1>
				Sold Stocks
				</h1> 
				
				<h:dataTable value="#{login.soldstock}" var= "s" styleClass="order-table" border="1"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row">
				
				<h:column>    				
              
    				<f:facet name="header" > sold id</f:facet> 				
               			
              	 #{s.pid}
            	</h:column>	
            	<h:column>    				
              
    				<f:facet name="header" > User id</f:facet> 				
               			
              	 #{s.pid}
            	</h:column>	
				<h:column>    				
              
    				<f:facet name="header" > Bought price</f:facet> 				
               			
              	 #{s.amt}
            	</h:column>	
            	
            	<h:column>    				
              
    				<f:facet name="header" >Sold Price</f:facet>    				
               			
              	 #{s.price}
            	</h:column>	
            	<h:column>    				
              
    				<f:facet name="header" > Quantity</f:facet>    				
               			
              	 #{s.qty}
            	</h:column>	
            
            	<h:column>    				
              
    				<f:facet name="header" > Symbol</f:facet> 
              	 #{s.symbol}
            	</h:column>	
            	<h:column>    				
              
    				<f:facet name="header" > profit</f:facet> 				
               			
              	 #{s.profit}
            	</h:column>	
            	
            	
            		
				</h:dataTable>	
				<h1>
				Purchased stocks
				</h1>	
				 	
				<h:dataTable value="#{login.stocks}" var= "stoc" styleClass="order-table" border="1"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row">
				
				<h:column>    				
              
    				<f:facet name="header" > Purchase id</f:facet> 				
               			
              	 #{stoc.pid}
            	</h:column>	
            	
				<h:column>    				
              
    				<f:facet name="header" > Amount</f:facet> 				
               			
              	 #{stoc.amt}
            	</h:column>	
            	
            	<h:column>    				
              
    				<f:facet name="header" > Price</f:facet>    				
               			
              	 #{stoc.price}
            	</h:column>	
            	<h:column>    				
              
    				<f:facet name="header" > Quantity</f:facet>    				
               			
              	 #{stoc.qty}
            	</h:column>	
            
            	<h:column>    				
              
    				<f:facet name="header" > Symbol</f:facet> 
              	 #{stoc.symbol}
            	</h:column>	
            		
            	
           </h:dataTable>	 	
            	
        <div class="container">
            

            <div class="well">
                <legend>Search Data</legend>

                <div class="row">

                    <h:form>
                        <label for="sel1">Stock: </label>
                        <h:selectOneMenu id="symbol" value="#{stockApiBean.selectedSymbol}">
                            <f:selectItems value="#{stockApiBean.availableSymbols}" />
                        </h:selectOneMenu>

                        <label for="sel1">Interval: </label>
                        <h:selectOneMenu id="interval" value="#{stockApiBean.selectedInterval}">
                            <f:selectItems value="#{stockApiBean.availableIntervals}" />
                        </h:selectOneMenu>
                        <br />
                        <h:commandButton value="Get Data" action="#{stockApiBean.timeseriesusersell}" styleClass="btn btn-success" />
                    </h:form>
                </div>

                <h:panelGroup rendered="#{not empty stockApiBean.table1Markup}">
                    <h:outputText value="#{stockApiBean.table1Markup}" escape="false" styleClass="preformatted" />
                </h:panelGroup>

                <h:panelGroup rendered="#{not empty stockApiBean.table2Markup}">
                    <h:outputText value="#{stockApiBean.table2Markup}" escape="false" styleClass="preformatted" />
                </h:panelGroup>
            </div>
        </div>
   
				
					
			
		

   			 </h:body>
</html>
